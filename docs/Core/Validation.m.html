<!doctype html>
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1, minimum-scale=1" />

    <title>IoticAgent.Core.Validation API documentation</title>
    <meta name="description" content="" />

  <link href='http://fonts.googleapis.com/css?family=Source+Sans+Pro:400,300' rel='stylesheet' type='text/css'>
  
  <style type="text/css">
  
* {
  box-sizing: border-box;
}
/*! normalize.css v1.1.1 | MIT License | git.io/normalize */

/* ==========================================================================
   HTML5 display definitions
   ========================================================================== */

/**
 * Correct `block` display not defined in IE 6/7/8/9 and Firefox 3.
 */

article,
aside,
details,
figcaption,
figure,
footer,
header,
hgroup,
main,
nav,
section,
summary {
    display: block;
}

/**
 * Correct `inline-block` display not defined in IE 6/7/8/9 and Firefox 3.
 */

audio,
canvas,
video {
    display: inline-block;
    *display: inline;
    *zoom: 1;
}

/**
 * Prevent modern browsers from displaying `audio` without controls.
 * Remove excess height in iOS 5 devices.
 */

audio:not([controls]) {
    display: none;
    height: 0;
}

/**
 * Address styling not present in IE 7/8/9, Firefox 3, and Safari 4.
 * Known issue: no IE 6 support.
 */

[hidden] {
    display: none;
}

/* ==========================================================================
   Base
   ========================================================================== */

/**
 * 1. Prevent system color scheme's background color being used in Firefox, IE,
 *    and Opera.
 * 2. Prevent system color scheme's text color being used in Firefox, IE, and
 *    Opera.
 * 3. Correct text resizing oddly in IE 6/7 when body `font-size` is set using
 *    `em` units.
 * 4. Prevent iOS text size adjust after orientation change, without disabling
 *    user zoom.
 */

html {
    background: #fff; /* 1 */
    color: #000; /* 2 */
    font-size: 100%; /* 3 */
    -webkit-text-size-adjust: 100%; /* 4 */
    -ms-text-size-adjust: 100%; /* 4 */
}

/**
 * Address `font-family` inconsistency between `textarea` and other form
 * elements.
 */

html,
button,
input,
select,
textarea {
    font-family: sans-serif;
}

/**
 * Address margins handled incorrectly in IE 6/7.
 */

body {
    margin: 0;
}

/* ==========================================================================
   Links
   ========================================================================== */

/**
 * Address `outline` inconsistency between Chrome and other browsers.
 */

a:focus {
    outline: thin dotted;
}

/**
 * Improve readability when focused and also mouse hovered in all browsers.
 */

a:active,
a:hover {
    outline: 0;
}

/* ==========================================================================
   Typography
   ========================================================================== */

/**
 * Address font sizes and margins set differently in IE 6/7.
 * Address font sizes within `section` and `article` in Firefox 4+, Safari 5,
 * and Chrome.
 */

h1 {
    font-size: 2em;
    margin: 0.67em 0;
}

h2 {
    font-size: 1.5em;
    margin: 0.83em 0;
}

h3 {
    font-size: 1.17em;
    margin: 1em 0;
}

h4 {
    font-size: 1em;
    margin: 1.33em 0;
}

h5 {
    font-size: 0.83em;
    margin: 1.67em 0;
}

h6 {
    font-size: 0.67em;
    margin: 2.33em 0;
}

/**
 * Address styling not present in IE 7/8/9, Safari 5, and Chrome.
 */

abbr[title] {
    border-bottom: 1px dotted;
}

/**
 * Address style set to `bolder` in Firefox 3+, Safari 4/5, and Chrome.
 */

b,
strong {
    font-weight: bold;
}

blockquote {
    margin: 1em 40px;
}

/**
 * Address styling not present in Safari 5 and Chrome.
 */

dfn {
    font-style: italic;
}

/**
 * Address differences between Firefox and other browsers.
 * Known issue: no IE 6/7 normalization.
 */

hr {
    -moz-box-sizing: content-box;
    box-sizing: content-box;
    height: 0;
}

/**
 * Address styling not present in IE 6/7/8/9.
 */

mark {
    background: #ff0;
    color: #000;
}

/**
 * Address margins set differently in IE 6/7.
 */

p,
pre {
    margin: 1em 0;
}

/**
 * Correct font family set oddly in IE 6, Safari 4/5, and Chrome.
 */

code,
kbd,
pre,
samp {
    font-family: monospace, serif;
    _font-family: 'courier new', monospace;
    font-size: 1em;
}

/**
 * Improve readability of pre-formatted text in all browsers.
 */

pre {
    white-space: pre;
    white-space: pre-wrap;
    word-wrap: break-word;
}

/**
 * Address CSS quotes not supported in IE 6/7.
 */

q {
    quotes: none;
}

/**
 * Address `quotes` property not supported in Safari 4.
 */

q:before,
q:after {
    content: '';
    content: none;
}

/**
 * Address inconsistent and variable font size in all browsers.
 */

small {
    font-size: 80%;
}

/**
 * Prevent `sub` and `sup` affecting `line-height` in all browsers.
 */

sub,
sup {
    font-size: 75%;
    line-height: 0;
    position: relative;
    vertical-align: baseline;
}

sup {
    top: -0.5em;
}

sub {
    bottom: -0.25em;
}

/* ==========================================================================
   Lists
   ========================================================================== */

/**
 * Address margins set differently in IE 6/7.
 */

dl,
menu,
ol,
ul {
    margin: 1em 0;
}

dd {
    margin: 0 0 0 40px;
}

/**
 * Address paddings set differently in IE 6/7.
 */

menu,
ol,
ul {
    padding: 0 0 0 40px;
}

/**
 * Correct list images handled incorrectly in IE 7.
 */

nav ul,
nav ol {
    list-style: none;
    list-style-image: none;
}

/* ==========================================================================
   Embedded content
   ========================================================================== */

/**
 * 1. Remove border when inside `a` element in IE 6/7/8/9 and Firefox 3.
 * 2. Improve image quality when scaled in IE 7.
 */

img {
    border: 0; /* 1 */
    -ms-interpolation-mode: bicubic; /* 2 */
}

/**
 * Correct overflow displayed oddly in IE 9.
 */

svg:not(:root) {
    overflow: hidden;
}

/* ==========================================================================
   Figures
   ========================================================================== */

/**
 * Address margin not present in IE 6/7/8/9, Safari 5, and Opera 11.
 */

figure {
    margin: 0;
}

/* ==========================================================================
   Forms
   ========================================================================== */

/**
 * Correct margin displayed oddly in IE 6/7.
 */

form {
    margin: 0;
}

/**
 * Define consistent border, margin, and padding.
 */

fieldset {
    border: 1px solid #c0c0c0;
    margin: 0 2px;
    padding: 0.35em 0.625em 0.75em;
}

/**
 * 1. Correct color not being inherited in IE 6/7/8/9.
 * 2. Correct text not wrapping in Firefox 3.
 * 3. Correct alignment displayed oddly in IE 6/7.
 */

legend {
    border: 0; /* 1 */
    padding: 0;
    white-space: normal; /* 2 */
    *margin-left: -7px; /* 3 */
}

/**
 * 1. Correct font size not being inherited in all browsers.
 * 2. Address margins set differently in IE 6/7, Firefox 3+, Safari 5,
 *    and Chrome.
 * 3. Improve appearance and consistency in all browsers.
 */

button,
input,
select,
textarea {
    font-size: 100%; /* 1 */
    margin: 0; /* 2 */
    vertical-align: baseline; /* 3 */
    *vertical-align: middle; /* 3 */
}

/**
 * Address Firefox 3+ setting `line-height` on `input` using `!important` in
 * the UA stylesheet.
 */

button,
input {
    line-height: normal;
}

/**
 * Address inconsistent `text-transform` inheritance for `button` and `select`.
 * All other form control elements do not inherit `text-transform` values.
 * Correct `button` style inheritance in Chrome, Safari 5+, and IE 6+.
 * Correct `select` style inheritance in Firefox 4+ and Opera.
 */

button,
select {
    text-transform: none;
}

/**
 * 1. Avoid the WebKit bug in Android 4.0.* where (2) destroys native `audio`
 *    and `video` controls.
 * 2. Correct inability to style clickable `input` types in iOS.
 * 3. Improve usability and consistency of cursor style between image-type
 *    `input` and others.
 * 4. Remove inner spacing in IE 7 without affecting normal text inputs.
 *    Known issue: inner spacing remains in IE 6.
 */

button,
html input[type="button"], /* 1 */
input[type="reset"],
input[type="submit"] {
    -webkit-appearance: button; /* 2 */
    cursor: pointer; /* 3 */
    *overflow: visible;  /* 4 */
}

/**
 * Re-set default cursor for disabled elements.
 */

button[disabled],
html input[disabled] {
    cursor: default;
}

/**
 * 1. Address box sizing set to content-box in IE 8/9.
 * 2. Remove excess padding in IE 8/9.
 * 3. Remove excess padding in IE 7.
 *    Known issue: excess padding remains in IE 6.
 */

input[type="checkbox"],
input[type="radio"] {
    box-sizing: border-box; /* 1 */
    padding: 0; /* 2 */
    *height: 13px; /* 3 */
    *width: 13px; /* 3 */
}

/**
 * 1. Address `appearance` set to `searchfield` in Safari 5 and Chrome.
 * 2. Address `box-sizing` set to `border-box` in Safari 5 and Chrome
 *    (include `-moz` to future-proof).
 */

input[type="search"] {
    -webkit-appearance: textfield; /* 1 */
    -moz-box-sizing: content-box;
    -webkit-box-sizing: content-box; /* 2 */
    box-sizing: content-box;
}

/**
 * Remove inner padding and search cancel button in Safari 5 and Chrome
 * on OS X.
 */

input[type="search"]::-webkit-search-cancel-button,
input[type="search"]::-webkit-search-decoration {
    -webkit-appearance: none;
}

/**
 * Remove inner padding and border in Firefox 3+.
 */

button::-moz-focus-inner,
input::-moz-focus-inner {
    border: 0;
    padding: 0;
}

/**
 * 1. Remove default vertical scrollbar in IE 6/7/8/9.
 * 2. Improve readability and alignment in all browsers.
 */

textarea {
    overflow: auto; /* 1 */
    vertical-align: top; /* 2 */
}

/* ==========================================================================
   Tables
   ========================================================================== */

/**
 * Remove most spacing between table cells.
 */

table {
    border-collapse: collapse;
    border-spacing: 0;
}

  </style>

  <style type="text/css">
  
  html, body {
    margin: 0;
    padding: 0;
    min-height: 100%;
  }
  body {
    background: #fff;
    font-family: "Source Sans Pro", "Helvetica Neueue", Helvetica, sans;
    font-weight: 300;
    font-size: 16px;
    line-height: 1.6em;
  }
  #content {
    width: 70%;
    max-width: 850px;
    float: left;
    padding: 30px 60px;
    border-left: 1px solid #ddd;
  }
  #sidebar {
    width: 25%;
    float: left;
    padding: 30px;
    overflow: hidden;
  }
  #nav {
    font-size: 130%;
    margin: 0 0 15px 0;
  }

  #top {
    display: block;
    position: fixed;
    bottom: 5px;
    left: 5px;
    font-size: .85em;
    text-transform: uppercase;
  }

  #footer {
    font-size: .75em;
    padding: 5px 30px;
    border-top: 1px solid #ddd;
    text-align: right;
  }
    #footer p {
      margin: 0 0 0 30px;
      display: inline-block;
    }

  h1, h2, h3, h4, h5 {
    font-weight: 300;
  }
  h1 {
    font-size: 2.5em;
    line-height: 1.1em;
    margin: 0 0 .50em 0;
  }

  h2 {
    font-size: 1.75em;
    margin: 1em 0 .50em 0;
  }

  h3 {
    margin: 25px 0 10px 0;
  }

  h4 {
    margin: 0;
    font-size: 105%;
  }

  a {
    color: #05B;
    text-decoration: none;
    font-weight: 500;
    border-bottom: 1px dashed #CCCCCC;
    transition: color .3s ease-in-out;
  }

  a:hover {
    color: #E95420;
    transition: color .3s ease-in-out;
  }

  pre, code, .mono, .name {
    font-family: "Ubuntu Mono", "Cousine", "DejaVu Sans Mono", monospace;
  }

  .title .name {
    font-weight: bold;
  }
  .section-title {
    margin-top: 2em;
  }
  .ident {
    color: #900;
  }

  code {
    background: #f9f9f9;
  }

  pre {
    background: #fefefe;
    border: 1px solid #ddd;
    box-shadow: 2px 2px 0 #f3f3f3;
    margin: 0 30px;
    padding: 15px 30px;
  }

  .codehilite {
    margin: 0 30px 10px 30px;
  }

    .codehilite pre {
      margin: 0;
    }
    .codehilite .err { background: #ff3300; color: #fff !important; }

  table#module-list {
    font-size: 110%;
  }

    table#module-list tr td:first-child {
      padding-right: 10px;
      white-space: nowrap;
    }

    table#module-list td {
      vertical-align: top;
      padding-bottom: 8px;
    }

      table#module-list td p {
        margin: 0 0 7px 0;
      }

  .def {
    display: table;
  }

    .def p {
      display: table-cell;
      vertical-align: top;
      text-align: left;
    }

    .def p:first-child {
      white-space: nowrap;
    }

    .def p:last-child {
      width: 100%;
    }


  #index {
    list-style-type: none;
    margin: 0;
    padding: 0;
  }
    ul#index .class_name {
      /* font-size: 110%; */
      font-weight: bold;
    }
    #index ul {
      margin: 0;
    }

  .item {
    margin: 0 0 15px 0;
  }

    .item .class {
      margin: 0 0 25px 30px;
    }

      .item .class ul.class_list {
        margin: 0 0 20px 0;
      }

    .item .name {
      background: #fafafa;
      margin: 0;
      font-weight: bold;
      padding: 5px 10px;
      border-radius: 3px;
      display: inline-block;
      min-width: 40%;
    }
      .item .name:hover {
        background: #f6f6f6;
      }

    .item .empty_desc {
      margin: 0 0 5px 0;
      padding: 0;
    }

    .item .inheritance {
      margin: 3px 0 0 30px;
    }

    .item .inherited {
      color: #666;
    }

    .item .desc {
      padding: 0 8px;
      margin: 0;
    }

      .item .desc p {
        margin: 0 0 10px 0;
      }

    .source_cont {
      margin: 0;
      padding: 0;
    }

    .source_link a {
      background: #ffc300;
      font-weight: 400;
      font-size: .75em;
      text-transform: uppercase;
      color: #fff;
      text-shadow: 1px 1px 0 #f4b700;

      padding: 3px 8px;
      border-radius: 2px;
      transition: background .3s ease-in-out;
    }
      .source_link a:hover {
        background: #FF7200;
        text-shadow: none;
        transition: background .3s ease-in-out;
      }

    .source {
      display: none;
      max-height: 600px;
      overflow-y: scroll;
      margin-bottom: 15px;
    }

      .source .codehilite {
        margin: 0;
      }

  .desc h1, .desc h2, .desc h3 {
    font-size: 100% !important;
  }
  .clear {
    clear: both;
  }

  @media all and (max-width: 950px) {
    #sidebar {
      width: 35%;
    }
    #content {
      width: 65%;
    }
  }
  @media all and (max-width: 650px) {
    #top {
      display: none;
    }
    #sidebar {
      float: none;
      width: auto;
    }
    #content {
      float: none;
      width: auto;
      padding: 30px;
    }

    #index ul {
      padding: 0;
      margin-bottom: 15px;
    }
    #index ul li {
      display: inline-block;
      margin-right: 30px;
    }
    #footer {
      text-align: left;
    }
    #footer p {
      display: block;
      margin: inherit;
    }
  }

  /*****************************/

  </style>


  <style type="text/css">
  
/* ==========================================================================
   EXAMPLE Media Queries for Responsive Design.
   These examples override the primary ('mobile first') styles.
   Modify as content requires.
   ========================================================================== */

@media only screen and (min-width: 35em) {
    /* Style adjustments for viewports that meet the condition */
}

@media print,
       (-o-min-device-pixel-ratio: 5/4),
       (-webkit-min-device-pixel-ratio: 1.25),
       (min-resolution: 120dpi) {
    /* Style adjustments for high resolution devices */
}

/* ==========================================================================
   Print styles.
   Inlined to avoid required HTTP connection: h5bp.com/r
   ========================================================================== */

@media print {
    * {
        background: transparent !important;
        color: #000 !important; /* Black prints faster: h5bp.com/s */
        box-shadow: none !important;
        text-shadow: none !important;
    }

    a,
    a:visited {
        text-decoration: underline;
    }

    a[href]:after {
        content: " (" attr(href) ")";
    }

    abbr[title]:after {
        content: " (" attr(title) ")";
    }

    /*
     * Don't show links for images, or javascript/internal links
     */

    .ir a:after,
    a[href^="javascript:"]:after,
    a[href^="#"]:after {
        content: "";
    }

    pre,
    blockquote {
        border: 1px solid #999;
        page-break-inside: avoid;
    }

    thead {
        display: table-header-group; /* h5bp.com/t */
    }

    tr,
    img {
        page-break-inside: avoid;
    }

    img {
        max-width: 100% !important;
    }

    @page {
        margin: 0.5cm;
    }

    p,
    h2,
    h3 {
        orphans: 3;
        widows: 3;
    }

    h2,
    h3 {
        page-break-after: avoid;
    }
}

  </style>

  <script type="text/javascript">
  function toggle(id, $link) {
    $node = document.getElementById(id);
    if (!$node)
    return;
    if (!$node.style.display || $node.style.display == 'none') {
    $node.style.display = 'block';
    $link.innerHTML = 'Hide source &nequiv;';
    } else {
    $node.style.display = 'none';
    $link.innerHTML = 'Show source &equiv;';
    }
  }
  </script>
</head>
<body>
<a href="#" id="top">Top</a>

<div id="container">
    
  
  <div id="sidebar">
    <h1>Index</h1>
    <ul id="index">
    <li class="set"><h3><a href="#header-variables">Module variables</a></h3>
      
  <ul>
    <li class="mono"><a href="#IoticAgent.Core.Validation.PY3">PY3</a></li>
    <li class="mono"><a href="#IoticAgent.Core.Validation.VALIDATION_FOC_TYPES">VALIDATION_FOC_TYPES</a></li>
    <li class="mono"><a href="#IoticAgent.Core.Validation.VALIDATION_LID_LEN">VALIDATION_LID_LEN</a></li>
    <li class="mono"><a href="#IoticAgent.Core.Validation.VALIDATION_MAX_ENCODED_LENGTH">VALIDATION_MAX_ENCODED_LENGTH</a></li>
    <li class="mono"><a href="#IoticAgent.Core.Validation.VALIDATION_META_COMMENT">VALIDATION_META_COMMENT</a></li>
    <li class="mono"><a href="#IoticAgent.Core.Validation.VALIDATION_META_FMT">VALIDATION_META_FMT</a></li>
    <li class="mono"><a href="#IoticAgent.Core.Validation.VALIDATION_META_LABEL">VALIDATION_META_LABEL</a></li>
    <li class="mono"><a href="#IoticAgent.Core.Validation.VALIDATION_META_LANGUAGE">VALIDATION_META_LANGUAGE</a></li>
    <li class="mono"><a href="#IoticAgent.Core.Validation.VALIDATION_META_SEARCH_TEXT">VALIDATION_META_SEARCH_TEXT</a></li>
    <li class="mono"><a href="#IoticAgent.Core.Validation.VALIDATION_META_TAG_MAX">VALIDATION_META_TAG_MAX</a></li>
    <li class="mono"><a href="#IoticAgent.Core.Validation.VALIDATION_META_TAG_MIN">VALIDATION_META_TAG_MIN</a></li>
    <li class="mono"><a href="#IoticAgent.Core.Validation.VALIDATION_META_VALUE_TYPES">VALIDATION_META_VALUE_TYPES</a></li>
    <li class="mono"><a href="#IoticAgent.Core.Validation.VALIDATION_META_VALUE_UNIT">VALIDATION_META_VALUE_UNIT</a></li>
    <li class="mono"><a href="#IoticAgent.Core.Validation.VALIDATION_META_VALUE_UNIT_MIN_URLBITS">VALIDATION_META_VALUE_UNIT_MIN_URLBITS</a></li>
    <li class="mono"><a href="#IoticAgent.Core.Validation.VALIDATION_MIME_LEN">VALIDATION_MIME_LEN</a></li>
    <li class="mono"><a href="#IoticAgent.Core.Validation.VALIDATION_SEARCH_TYPES">VALIDATION_SEARCH_TYPES</a></li>
    <li class="mono"><a href="#IoticAgent.Core.Validation.VALIDATION_TIME_FMT">VALIDATION_TIME_FMT</a></li>
    <li class="mono"><a href="#IoticAgent.Core.Validation.int_types">int_types</a></li>
    <li class="mono"><a href="#IoticAgent.Core.Validation.number_types">number_types</a></li>
  </ul>

    </li>


    <li class="set"><h3><a href="#header-classes">Classes</a></h3>
      <ul>
        <li class="mono">
        <span class="class_name"><a href="#IoticAgent.Core.Validation.Validation">Validation</a></span>
        
          
  <ul>
    <li class="mono"><a href="#IoticAgent.Core.Validation.Validation.bool_check_convert">bool_check_convert</a></li>
    <li class="mono"><a href="#IoticAgent.Core.Validation.Validation.callable_check">callable_check</a></li>
    <li class="mono"><a href="#IoticAgent.Core.Validation.Validation.check_convert_string">check_convert_string</a></li>
    <li class="mono"><a href="#IoticAgent.Core.Validation.Validation.foc_check">foc_check</a></li>
    <li class="mono"><a href="#IoticAgent.Core.Validation.Validation.guid_check_convert">guid_check_convert</a></li>
    <li class="mono"><a href="#IoticAgent.Core.Validation.Validation.limit_offset_check">limit_offset_check</a></li>
    <li class="mono"><a href="#IoticAgent.Core.Validation.Validation.location_check">location_check</a></li>
    <li class="mono"><a href="#IoticAgent.Core.Validation.Validation.metafmt_check_convert">metafmt_check_convert</a></li>
    <li class="mono"><a href="#IoticAgent.Core.Validation.Validation.search_type_check_convert">search_type_check_convert</a></li>
    <li class="mono"><a href="#IoticAgent.Core.Validation.Validation.value_type_check_convert">value_type_check_convert</a></li>
    <li class="mono"><a href="#IoticAgent.Core.Validation.Validation.comment_check_convert">comment_check_convert</a></li>
    <li class="mono"><a href="#IoticAgent.Core.Validation.Validation.datetime_check_convert">datetime_check_convert</a></li>
    <li class="mono"><a href="#IoticAgent.Core.Validation.Validation.description_check_convert">description_check_convert</a></li>
    <li class="mono"><a href="#IoticAgent.Core.Validation.Validation.label_check_convert">label_check_convert</a></li>
    <li class="mono"><a href="#IoticAgent.Core.Validation.Validation.lang_check_convert">lang_check_convert</a></li>
    <li class="mono"><a href="#IoticAgent.Core.Validation.Validation.lid_check_convert">lid_check_convert</a></li>
    <li class="mono"><a href="#IoticAgent.Core.Validation.Validation.mime_check_convert">mime_check_convert</a></li>
    <li class="mono"><a href="#IoticAgent.Core.Validation.Validation.pid_check_convert">pid_check_convert</a></li>
    <li class="mono"><a href="#IoticAgent.Core.Validation.Validation.search_check_convert">search_check_convert</a></li>
    <li class="mono"><a href="#IoticAgent.Core.Validation.Validation.search_location_check">search_location_check</a></li>
    <li class="mono"><a href="#IoticAgent.Core.Validation.Validation.tags_check_convert">tags_check_convert</a></li>
    <li class="mono"><a href="#IoticAgent.Core.Validation.Validation.value_unit_check_convert">value_unit_check_convert</a></li>
  </ul>

        </li>
      </ul>
    </li>

    </ul>
  </div>

    <article id="content">
      
  

  


  <header id="section-intro">
  <h1 class="title"><span class="name">IoticAgent.Core.Validation</span> module</h1>
  
  
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-IoticAgent.Core.Validation', this);">Show source &equiv;</a></p>
  <div id="source-IoticAgent.Core.Validation" class="source">
    <pre><code>#!/usr/bin/env python3
# Copyright (c) 2016 Iotic Labs Ltd. All rights reserved.
#
# Licensed under the Apache License, Version 2.0 (the "License");
# you may not use this file except in compliance with the License.
# You may obtain a copy of the License at
#
#     https://github.com/Iotic-Labs/py-IoticAgent/blob/master/LICENSE
#
# Unless required by applicable law or agreed to in writing, software
# distributed under the License is distributed on an "AS IS" BASIS,
# WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
# See the License for the specific language governing permissions and
# limitations under the License.

from __future__ import unicode_literals
from datetime import datetime, timedelta
from uuid import UUID

from . import Const
from .compat import (PY3, string_types, int_types, arg_checker, ensure_ascii, ensure_unicode, urlparse, number_types,
                     raise_from, Sequence, Mapping, re_compile)


VALIDATION_LID_LEN = 64
VALIDATION_MIME_LEN = 64
VALIDATION_TIME_FMT = '%Y-%m-%dT%H:%M:%S.%fZ'
VALIDATION_META_FMT = {'n3', 'xml', 'turtle'}
VALIDATION_META_LANGUAGE = 2
VALIDATION_META_LABEL = 64
VALIDATION_META_COMMENT = 256
VALIDATION_META_TAG_MIN = 3
VALIDATION_META_TAG_MAX = 16
VALIDATION_META_VALUE_UNIT = 128
VALIDATION_META_VALUE_UNIT_MIN_URLBITS = 3
VALIDATION_META_SEARCH_TEXT = 128
VALIDATION_MAX_ENCODED_LENGTH = int(round(1024 * 64 * 0.98))  # (64k is current hard AMQP message limit)
VALIDATION_FOC_TYPES = frozenset((Const.R_FEED, Const.R_CONTROL))
VALIDATION_SEARCH_TYPES = frozenset(('full', 'reduced', 'located'))
# http://www.w3.org/TR/xmlschema-2/#built-in-datatypes
VALIDATION_META_VALUE_TYPES = frozenset(("string", "boolean", "decimal", "float", "double", "duration", "dateTime",
                                         "time", "date", "gYearMonth", "gYear", "gMonthDay", "gDay", "gMonth",
                                         "hexBinary", "base64Binary", "anyURI", "QName", "NOTATION",
                                         "normalizedString", "token", "language", "NMTOKEN", "NMTOKENS", "Name",
                                         "NCName", "ID", "IDREF", "IDREFS", "ENTITY", "ENTITIES", "integer",
                                         "nonPositiveInteger", "negativeInteger", "long", "int", "short", "byte",
                                         "nonNegativeInteger", "unsignedLong", "unsignedInt", "unsignedShort",
                                         "unsignedByte", "positiveInteger"))

_PATTERN_ASCII = re_compile(r'^(?%s)\S+$' % 'a' if PY3 else '')
_PATTERN_LEAD_TRAIL_WHITESPACE = re_compile(r'^(?u)\s.*|.*\s$')
_PATTERN_WHITESPACE = re_compile(r'^(?u).*\s.*$')
_PATTERN_LANGUAGE = re_compile(r'^(?%si)[a-z]{2}$' % 'a' if PY3 else '')
_PATTERN_WORD = re_compile(r'^(?u)\w+$')
# For e.g. splitting search text into individual words. Do not pick words surrounded by non-whitespace characters
_PATTERN_WORDS = re_compile(r'(?u)(?<!\S)\w+(?!\S)')
# for validating fqdn/ip and path of a url (cannot contain whitespace, minimum length)
_PATTERN_URL_PART = re_compile(r'^(?u)\S{3}\S*$')

_LOCATION_SEARCH_ARGS = frozenset(('lat', 'long', 'radius'))


class Validation(object):  # pylint: disable=too-many-public-methods

    @staticmethod
    def check_convert_string(obj, name=None,
                             no_leading_trailing_whitespace=True,
                             no_whitespace=False,
                             no_newline=True,
                             whole_word=False,
                             min_len=1,
                             max_len=0):
        """Ensures the provided object can be interpreted as a unicode string, optionally with
           additional restrictions imposed. By default this means a non-zero length string
           which does not begin or end in whitespace."""
        if not name:
            name = 'Argument'
        obj = ensure_unicode(obj, name=name)
        if no_whitespace:
            if _PATTERN_WHITESPACE.match(obj):
                raise ValueError('%s cannot contain whitespace' % name)
        elif no_leading_trailing_whitespace and _PATTERN_LEAD_TRAIL_WHITESPACE.match(obj):
            raise ValueError('%s contains leading/trailing whitespace' % name)
        if (min_len and len(obj) < min_len) or (max_len and len(obj) > max_len):
            raise ValueError('%s too short/long (%d/%d)' % (name, min_len, max_len))
        if whole_word:
            if not _PATTERN_WORD.match(obj):
                raise ValueError('%s can only contain alphanumeric (unicode) characters, numbers and the underscore'
                                 % name)
        # whole words cannot contain newline so additional check not required
        elif no_newline and '\n' in obj:
            raise ValueError('%s cannot contain line breaks' % name)
        return obj

    @classmethod
    def lid_check_convert(cls, lid):
        return cls.check_convert_string(lid, 'lid', max_len=VALIDATION_LID_LEN)

    @classmethod
    def pid_check_convert(cls, lid):
        return cls.check_convert_string(lid, 'pid', max_len=VALIDATION_LID_LEN)

    @staticmethod
    def guid_check_convert(guid, allow_none=False):
        """Take a GUID in the form of hex string "32" or "8-4-4-4-12".
        Returns hex string "32" or raises ValueError: badly formed hexadecimal UUID string
        """
        if isinstance(guid, string_types):
            return ensure_unicode(UUID(guid).hex)
        elif guid is None and allow_none:
            return None
        else:
            raise ValueError('guid must be a string')

    @staticmethod
    def limit_offset_check(limit, offset):
        if not (isinstance(limit, int_types) and limit >= 0 and
                isinstance(offset, int_types) and offset >= 0):
            raise ValueError("limit/offset invalid")

    @staticmethod
    def metafmt_check_convert(fmt):
        fmt = ensure_unicode(fmt, name='fmt')
        if fmt not in VALIDATION_META_FMT:
            raise ValueError("metadata fmt must be one of of %s" % VALIDATION_META_FMT)
        return fmt

    @classmethod
    def tags_check_convert(cls, tags):
        """Accept one tag as string or multiple tags in list of strings.
        Returns list (with tags in unicode form) or raises ValueError
        """
        # single string check comes first since string is also a Sequence
        if isinstance(tags, string_types):
            return [cls.__tag_check_convert(tags)]
        elif isinstance(tags, Sequence):
            if not tags:
                raise ValueError("Tag list is empty")
            return [cls.__tag_check_convert(tag) for tag in tags]
        else:
            raise ValueError("tags must be a single string or list of sequence of strings")

    @classmethod
    def __tag_check_convert(cls, tag):
        return cls.check_convert_string(tag, 'tags', no_whitespace=True, whole_word=True,
                                        min_len=VALIDATION_META_TAG_MIN, max_len=VALIDATION_META_TAG_MAX)

    @staticmethod
    def bool_check_convert(bname, barg):  # pylint: disable=unused-argument
        """Currently does no checking - passthrough for now in case people change their minds"""
        return bool(barg)

    @classmethod
    def lang_check_convert(cls, lang, allow_none=False, default=None):
        if lang is None:
            if allow_none:
                return None
            else:
                lang = default
        lang = ensure_unicode(lang, name='lang')
        if not _PATTERN_LANGUAGE.match(lang):
            raise ValueError('Language should only contain a-z characters')
        return lang

    @classmethod
    def mime_check_convert(cls, mime, allow_none=False):
        if mime is None and allow_none:
            return None
        else:
            mime = ensure_ascii(mime, name='mime')
            if 1 < len(mime) < VALIDATION_MIME_LEN:
                return mime
            else:
                raise ValueError('mime too long (%d)' % VALIDATION_MIME_LEN)

    __zeroOffsetOrNone = frozenset((timedelta(0), None))

    @classmethod
    def datetime_check_convert(cls, time, allow_none=False, require_utc=True, to_iso8601=True):
        if time is None and allow_none:
            return None
        if not isinstance(time, datetime):
            raise ValueError('datetime instance required')
        if require_utc:
            offset = time.utcoffset()
            if offset not in cls.__zeroOffsetOrNone:
                raise ValueError('datetime instance must be naive or have zero UTC offset')
        return ensure_unicode(time.strftime(VALIDATION_TIME_FMT)) if to_iso8601 else time

    @staticmethod
    def foc_check(foc):
        if foc not in VALIDATION_FOC_TYPES:
            raise ValueError("Resource type invalid expected one of %s" % VALIDATION_FOC_TYPES)

    @classmethod
    def label_check_convert(cls, label, allow_none=False):
        if label is None and allow_none:
            return None
        else:
            return cls.check_convert_string(label, 'label', max_len=VALIDATION_META_LABEL)

    @classmethod
    def comment_check_convert(cls, comment, allow_none=False):
        if comment is None and allow_none:
            return None
        else:
            return cls.check_convert_string(comment, 'comment', max_len=VALIDATION_META_COMMENT, no_newline=False)

    description_check_convert = comment_check_convert

    @staticmethod
    def value_type_check_convert(vtype):
        vtype = ensure_unicode(vtype, name='vtype')
        if vtype not in VALIDATION_META_VALUE_TYPES:
            raise ValueError("value type not a valid xsd primitive (or derived) type name")
        return vtype

    @classmethod
    def value_unit_check_convert(cls, unit):
        if unit is None:
            return None
        unit = ensure_unicode(unit, name='unit')
        if len(unit) > VALIDATION_META_VALUE_UNIT:
            raise ValueError('unit too long (%d)' % VALIDATION_META_VALUE_UNIT)
        if cls.__valid_url(unit):
            return unit
        else:
            raise ValueError('unit does not resemble valid http(s) url')

    @classmethod
    def __valid_url(cls, url):
        """Expects input to already be a valid string"""
        bits = urlparse(url)
        return ((bits.scheme == "http" or bits.scheme == "https") and
                _PATTERN_URL_PART.match(bits.netloc) and
                _PATTERN_URL_PART.match(bits.path))

    @staticmethod
    def location_check(lat, lon):
        """For use by Core client wrappers"""
        if not (isinstance(lat, number_types) and -90 <= lat <= 90):
            raise ValueError("Latitude: '{latitude}' invalid".format(latitude=lat))

        if not (isinstance(lon, number_types) and -180 <= lon <= 180):
            raise ValueError("Longitude: '{longitude}' invalid".format(longitude=lon))

    @classmethod
    def search_location_check(cls, location):
        """Core.Client.request_search location parameter should be a dictionary that contains lat, lon and radius floats
        """
        if not (isinstance(location, Mapping) and set(location.keys()) == _LOCATION_SEARCH_ARGS):
            raise ValueError('Search location should be mapping with keys: %s' % _LOCATION_SEARCH_ARGS)

        cls.location_check(location['lat'], location['long'])
        radius = location['radius']
        if not (isinstance(radius, number_types) and 0 < radius <= 20038):  # half circumference
            raise ValueError("Radius: '{radius}' is invalid".format(radius=radius))

    @classmethod
    def search_check_convert(cls, text, lang, location, unit, default_lang):
        arg_count = 0
        payload = {}

        if text is not None:
            payload['text'] = cls.__search_text_check_convert(text)
            arg_count += 1

        payload['lang'] = cls.lang_check_convert(lang, default=default_lang)

        if location is not None:
            cls.search_location_check(location)
            payload.update(location)
            arg_count += 1
            if location['radius'] > 25 and text is None:
                raise ValueError('radius cannot exceed 25km when no search text supplied')

        if unit is not None:
            payload['unit'] = cls.value_unit_check_convert(unit)
            arg_count += 1

        if not arg_count:
            raise ValueError('At least one of text, location and unit must be specified')

        return payload

    @staticmethod
    def search_type_check_convert(type_):
        # Allow for old behaviour, specified as string
        if type_ in Const.SearchType:
            return type_
        type_ = ensure_ascii(type_, name='type_')
        try:
            return Const.SearchType(type_)
        except ValueError as ex:
            raise_from(ValueError('Search type must be one of: %s' % ', '.join(str(x) for x in Const.SearchType)), ex)

    @classmethod
    def __search_text_check_convert(cls, text):
        """Converts and keeps only words in text deemed to be valid"""
        text = cls.check_convert_string(text, name='text', no_leading_trailing_whitespace=False)
        if len(text) > VALIDATION_META_SEARCH_TEXT:
            raise ValueError("Search text can contain at most %d characters" % VALIDATION_META_SEARCH_TEXT)
        text = ' '.join(_PATTERN_WORDS.findall(text))
        if not text:
            raise ValueError('Search text must contain at least one non-whitespace term (word)')
        return text

    @staticmethod
    def callable_check(func, arg_count=1, arg_value=None, allow_none=False):
        """Check whether func is callable, with the given number of positional arguments. Returns True if check
           succeeded, False otherwise."""
        if func is None:
            if not allow_none:
                raise ValueError('callable cannot be None')
        elif not arg_checker(func, *[arg_value for _ in range(arg_count)]):
            raise ValueError('callable %s invalid (for %d arguments)' % (func, arg_count))
</code></pre>
  </div>

  </header>

  <section id="section-items">
    <h2 class="section-title" id="header-variables">Module variables</h2>
      <div class="item">
      <p id="IoticAgent.Core.Validation.PY3" class="name">var <span class="ident">PY3</span></p>
      
  
  <div class="source_cont">
</div>

      </div>
      <div class="item">
      <p id="IoticAgent.Core.Validation.VALIDATION_FOC_TYPES" class="name">var <span class="ident">VALIDATION_FOC_TYPES</span></p>
      
  
  <div class="source_cont">
</div>

      </div>
      <div class="item">
      <p id="IoticAgent.Core.Validation.VALIDATION_LID_LEN" class="name">var <span class="ident">VALIDATION_LID_LEN</span></p>
      
  
  <div class="source_cont">
</div>

      </div>
      <div class="item">
      <p id="IoticAgent.Core.Validation.VALIDATION_MAX_ENCODED_LENGTH" class="name">var <span class="ident">VALIDATION_MAX_ENCODED_LENGTH</span></p>
      
  
  <div class="source_cont">
</div>

      </div>
      <div class="item">
      <p id="IoticAgent.Core.Validation.VALIDATION_META_COMMENT" class="name">var <span class="ident">VALIDATION_META_COMMENT</span></p>
      
  
  <div class="source_cont">
</div>

      </div>
      <div class="item">
      <p id="IoticAgent.Core.Validation.VALIDATION_META_FMT" class="name">var <span class="ident">VALIDATION_META_FMT</span></p>
      
  
  <div class="source_cont">
</div>

      </div>
      <div class="item">
      <p id="IoticAgent.Core.Validation.VALIDATION_META_LABEL" class="name">var <span class="ident">VALIDATION_META_LABEL</span></p>
      
  
  <div class="source_cont">
</div>

      </div>
      <div class="item">
      <p id="IoticAgent.Core.Validation.VALIDATION_META_LANGUAGE" class="name">var <span class="ident">VALIDATION_META_LANGUAGE</span></p>
      
  
  <div class="source_cont">
</div>

      </div>
      <div class="item">
      <p id="IoticAgent.Core.Validation.VALIDATION_META_SEARCH_TEXT" class="name">var <span class="ident">VALIDATION_META_SEARCH_TEXT</span></p>
      
  
  <div class="source_cont">
</div>

      </div>
      <div class="item">
      <p id="IoticAgent.Core.Validation.VALIDATION_META_TAG_MAX" class="name">var <span class="ident">VALIDATION_META_TAG_MAX</span></p>
      
  
  <div class="source_cont">
</div>

      </div>
      <div class="item">
      <p id="IoticAgent.Core.Validation.VALIDATION_META_TAG_MIN" class="name">var <span class="ident">VALIDATION_META_TAG_MIN</span></p>
      
  
  <div class="source_cont">
</div>

      </div>
      <div class="item">
      <p id="IoticAgent.Core.Validation.VALIDATION_META_VALUE_TYPES" class="name">var <span class="ident">VALIDATION_META_VALUE_TYPES</span></p>
      
  
  <div class="source_cont">
</div>

      </div>
      <div class="item">
      <p id="IoticAgent.Core.Validation.VALIDATION_META_VALUE_UNIT" class="name">var <span class="ident">VALIDATION_META_VALUE_UNIT</span></p>
      
  
  <div class="source_cont">
</div>

      </div>
      <div class="item">
      <p id="IoticAgent.Core.Validation.VALIDATION_META_VALUE_UNIT_MIN_URLBITS" class="name">var <span class="ident">VALIDATION_META_VALUE_UNIT_MIN_URLBITS</span></p>
      
  
  <div class="source_cont">
</div>

      </div>
      <div class="item">
      <p id="IoticAgent.Core.Validation.VALIDATION_MIME_LEN" class="name">var <span class="ident">VALIDATION_MIME_LEN</span></p>
      
  
  <div class="source_cont">
</div>

      </div>
      <div class="item">
      <p id="IoticAgent.Core.Validation.VALIDATION_SEARCH_TYPES" class="name">var <span class="ident">VALIDATION_SEARCH_TYPES</span></p>
      
  
  <div class="source_cont">
</div>

      </div>
      <div class="item">
      <p id="IoticAgent.Core.Validation.VALIDATION_TIME_FMT" class="name">var <span class="ident">VALIDATION_TIME_FMT</span></p>
      
  
  <div class="source_cont">
</div>

      </div>
      <div class="item">
      <p id="IoticAgent.Core.Validation.int_types" class="name">var <span class="ident">int_types</span></p>
      
  
  <div class="source_cont">
</div>

      </div>
      <div class="item">
      <p id="IoticAgent.Core.Validation.number_types" class="name">var <span class="ident">number_types</span></p>
      
  
  <div class="source_cont">
</div>

      </div>


    <h2 class="section-title" id="header-classes">Classes</h2>
      
      <div class="item">
      <p id="IoticAgent.Core.Validation.Validation" class="name">class <span class="ident">Validation</span></p>
      
  
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-IoticAgent.Core.Validation.Validation', this);">Show source &equiv;</a></p>
  <div id="source-IoticAgent.Core.Validation.Validation" class="source">
    <pre><code>class Validation(object):  # pylint: disable=too-many-public-methods

    @staticmethod
    def check_convert_string(obj, name=None,
                             no_leading_trailing_whitespace=True,
                             no_whitespace=False,
                             no_newline=True,
                             whole_word=False,
                             min_len=1,
                             max_len=0):
        """Ensures the provided object can be interpreted as a unicode string, optionally with
           additional restrictions imposed. By default this means a non-zero length string
           which does not begin or end in whitespace."""
        if not name:
            name = 'Argument'
        obj = ensure_unicode(obj, name=name)
        if no_whitespace:
            if _PATTERN_WHITESPACE.match(obj):
                raise ValueError('%s cannot contain whitespace' % name)
        elif no_leading_trailing_whitespace and _PATTERN_LEAD_TRAIL_WHITESPACE.match(obj):
            raise ValueError('%s contains leading/trailing whitespace' % name)
        if (min_len and len(obj) < min_len) or (max_len and len(obj) > max_len):
            raise ValueError('%s too short/long (%d/%d)' % (name, min_len, max_len))
        if whole_word:
            if not _PATTERN_WORD.match(obj):
                raise ValueError('%s can only contain alphanumeric (unicode) characters, numbers and the underscore'
                                 % name)
        # whole words cannot contain newline so additional check not required
        elif no_newline and '\n' in obj:
            raise ValueError('%s cannot contain line breaks' % name)
        return obj

    @classmethod
    def lid_check_convert(cls, lid):
        return cls.check_convert_string(lid, 'lid', max_len=VALIDATION_LID_LEN)

    @classmethod
    def pid_check_convert(cls, lid):
        return cls.check_convert_string(lid, 'pid', max_len=VALIDATION_LID_LEN)

    @staticmethod
    def guid_check_convert(guid, allow_none=False):
        """Take a GUID in the form of hex string "32" or "8-4-4-4-12".
        Returns hex string "32" or raises ValueError: badly formed hexadecimal UUID string
        """
        if isinstance(guid, string_types):
            return ensure_unicode(UUID(guid).hex)
        elif guid is None and allow_none:
            return None
        else:
            raise ValueError('guid must be a string')

    @staticmethod
    def limit_offset_check(limit, offset):
        if not (isinstance(limit, int_types) and limit >= 0 and
                isinstance(offset, int_types) and offset >= 0):
            raise ValueError("limit/offset invalid")

    @staticmethod
    def metafmt_check_convert(fmt):
        fmt = ensure_unicode(fmt, name='fmt')
        if fmt not in VALIDATION_META_FMT:
            raise ValueError("metadata fmt must be one of of %s" % VALIDATION_META_FMT)
        return fmt

    @classmethod
    def tags_check_convert(cls, tags):
        """Accept one tag as string or multiple tags in list of strings.
        Returns list (with tags in unicode form) or raises ValueError
        """
        # single string check comes first since string is also a Sequence
        if isinstance(tags, string_types):
            return [cls.__tag_check_convert(tags)]
        elif isinstance(tags, Sequence):
            if not tags:
                raise ValueError("Tag list is empty")
            return [cls.__tag_check_convert(tag) for tag in tags]
        else:
            raise ValueError("tags must be a single string or list of sequence of strings")

    @classmethod
    def __tag_check_convert(cls, tag):
        return cls.check_convert_string(tag, 'tags', no_whitespace=True, whole_word=True,
                                        min_len=VALIDATION_META_TAG_MIN, max_len=VALIDATION_META_TAG_MAX)

    @staticmethod
    def bool_check_convert(bname, barg):  # pylint: disable=unused-argument
        """Currently does no checking - passthrough for now in case people change their minds"""
        return bool(barg)

    @classmethod
    def lang_check_convert(cls, lang, allow_none=False, default=None):
        if lang is None:
            if allow_none:
                return None
            else:
                lang = default
        lang = ensure_unicode(lang, name='lang')
        if not _PATTERN_LANGUAGE.match(lang):
            raise ValueError('Language should only contain a-z characters')
        return lang

    @classmethod
    def mime_check_convert(cls, mime, allow_none=False):
        if mime is None and allow_none:
            return None
        else:
            mime = ensure_ascii(mime, name='mime')
            if 1 < len(mime) < VALIDATION_MIME_LEN:
                return mime
            else:
                raise ValueError('mime too long (%d)' % VALIDATION_MIME_LEN)

    __zeroOffsetOrNone = frozenset((timedelta(0), None))

    @classmethod
    def datetime_check_convert(cls, time, allow_none=False, require_utc=True, to_iso8601=True):
        if time is None and allow_none:
            return None
        if not isinstance(time, datetime):
            raise ValueError('datetime instance required')
        if require_utc:
            offset = time.utcoffset()
            if offset not in cls.__zeroOffsetOrNone:
                raise ValueError('datetime instance must be naive or have zero UTC offset')
        return ensure_unicode(time.strftime(VALIDATION_TIME_FMT)) if to_iso8601 else time

    @staticmethod
    def foc_check(foc):
        if foc not in VALIDATION_FOC_TYPES:
            raise ValueError("Resource type invalid expected one of %s" % VALIDATION_FOC_TYPES)

    @classmethod
    def label_check_convert(cls, label, allow_none=False):
        if label is None and allow_none:
            return None
        else:
            return cls.check_convert_string(label, 'label', max_len=VALIDATION_META_LABEL)

    @classmethod
    def comment_check_convert(cls, comment, allow_none=False):
        if comment is None and allow_none:
            return None
        else:
            return cls.check_convert_string(comment, 'comment', max_len=VALIDATION_META_COMMENT, no_newline=False)

    description_check_convert = comment_check_convert

    @staticmethod
    def value_type_check_convert(vtype):
        vtype = ensure_unicode(vtype, name='vtype')
        if vtype not in VALIDATION_META_VALUE_TYPES:
            raise ValueError("value type not a valid xsd primitive (or derived) type name")
        return vtype

    @classmethod
    def value_unit_check_convert(cls, unit):
        if unit is None:
            return None
        unit = ensure_unicode(unit, name='unit')
        if len(unit) > VALIDATION_META_VALUE_UNIT:
            raise ValueError('unit too long (%d)' % VALIDATION_META_VALUE_UNIT)
        if cls.__valid_url(unit):
            return unit
        else:
            raise ValueError('unit does not resemble valid http(s) url')

    @classmethod
    def __valid_url(cls, url):
        """Expects input to already be a valid string"""
        bits = urlparse(url)
        return ((bits.scheme == "http" or bits.scheme == "https") and
                _PATTERN_URL_PART.match(bits.netloc) and
                _PATTERN_URL_PART.match(bits.path))

    @staticmethod
    def location_check(lat, lon):
        """For use by Core client wrappers"""
        if not (isinstance(lat, number_types) and -90 <= lat <= 90):
            raise ValueError("Latitude: '{latitude}' invalid".format(latitude=lat))

        if not (isinstance(lon, number_types) and -180 <= lon <= 180):
            raise ValueError("Longitude: '{longitude}' invalid".format(longitude=lon))

    @classmethod
    def search_location_check(cls, location):
        """Core.Client.request_search location parameter should be a dictionary that contains lat, lon and radius floats
        """
        if not (isinstance(location, Mapping) and set(location.keys()) == _LOCATION_SEARCH_ARGS):
            raise ValueError('Search location should be mapping with keys: %s' % _LOCATION_SEARCH_ARGS)

        cls.location_check(location['lat'], location['long'])
        radius = location['radius']
        if not (isinstance(radius, number_types) and 0 < radius <= 20038):  # half circumference
            raise ValueError("Radius: '{radius}' is invalid".format(radius=radius))

    @classmethod
    def search_check_convert(cls, text, lang, location, unit, default_lang):
        arg_count = 0
        payload = {}

        if text is not None:
            payload['text'] = cls.__search_text_check_convert(text)
            arg_count += 1

        payload['lang'] = cls.lang_check_convert(lang, default=default_lang)

        if location is not None:
            cls.search_location_check(location)
            payload.update(location)
            arg_count += 1
            if location['radius'] > 25 and text is None:
                raise ValueError('radius cannot exceed 25km when no search text supplied')

        if unit is not None:
            payload['unit'] = cls.value_unit_check_convert(unit)
            arg_count += 1

        if not arg_count:
            raise ValueError('At least one of text, location and unit must be specified')

        return payload

    @staticmethod
    def search_type_check_convert(type_):
        # Allow for old behaviour, specified as string
        if type_ in Const.SearchType:
            return type_
        type_ = ensure_ascii(type_, name='type_')
        try:
            return Const.SearchType(type_)
        except ValueError as ex:
            raise_from(ValueError('Search type must be one of: %s' % ', '.join(str(x) for x in Const.SearchType)), ex)

    @classmethod
    def __search_text_check_convert(cls, text):
        """Converts and keeps only words in text deemed to be valid"""
        text = cls.check_convert_string(text, name='text', no_leading_trailing_whitespace=False)
        if len(text) > VALIDATION_META_SEARCH_TEXT:
            raise ValueError("Search text can contain at most %d characters" % VALIDATION_META_SEARCH_TEXT)
        text = ' '.join(_PATTERN_WORDS.findall(text))
        if not text:
            raise ValueError('Search text must contain at least one non-whitespace term (word)')
        return text

    @staticmethod
    def callable_check(func, arg_count=1, arg_value=None, allow_none=False):
        """Check whether func is callable, with the given number of positional arguments. Returns True if check
           succeeded, False otherwise."""
        if func is None:
            if not allow_none:
                raise ValueError('callable cannot be None')
        elif not arg_checker(func, *[arg_value for _ in range(arg_count)]):
            raise ValueError('callable %s invalid (for %d arguments)' % (func, arg_count))
</code></pre>
  </div>
</div>


      <div class="class">
          <h3>Ancestors (in MRO)</h3>
          <ul class="class_list">
          <li><a href="#IoticAgent.Core.Validation.Validation">Validation</a></li>
          <li>builtins.object</li>
          </ul>
          <h3>Static methods</h3>
            
  <div class="item">
    <div class="name def" id="IoticAgent.Core.Validation.Validation.bool_check_convert">
    <p>def <span class="ident">bool_check_convert</span>(</p><p>bname, barg)</p>
    </div>
    

    
  
    <div class="desc"><p>Currently does no checking - passthrough for now in case people change their minds</p></div>
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-IoticAgent.Core.Validation.Validation.bool_check_convert', this);">Show source &equiv;</a></p>
  <div id="source-IoticAgent.Core.Validation.Validation.bool_check_convert" class="source">
    <pre><code>@staticmethod
def bool_check_convert(bname, barg):  # pylint: disable=unused-argument
    """Currently does no checking - passthrough for now in case people change their minds"""
    return bool(barg)
</code></pre>
  </div>
</div>

  </div>
  
            
  <div class="item">
    <div class="name def" id="IoticAgent.Core.Validation.Validation.callable_check">
    <p>def <span class="ident">callable_check</span>(</p><p>func, arg_count=1, arg_value=None, allow_none=False)</p>
    </div>
    

    
  
    <div class="desc"><p>Check whether func is callable, with the given number of positional arguments. Returns True if check
succeeded, False otherwise.</p></div>
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-IoticAgent.Core.Validation.Validation.callable_check', this);">Show source &equiv;</a></p>
  <div id="source-IoticAgent.Core.Validation.Validation.callable_check" class="source">
    <pre><code>@staticmethod
def callable_check(func, arg_count=1, arg_value=None, allow_none=False):
    """Check whether func is callable, with the given number of positional arguments. Returns True if check
       succeeded, False otherwise."""
    if func is None:
        if not allow_none:
            raise ValueError('callable cannot be None')
    elif not arg_checker(func, *[arg_value for _ in range(arg_count)]):
        raise ValueError('callable %s invalid (for %d arguments)' % (func, arg_count))
</code></pre>
  </div>
</div>

  </div>
  
            
  <div class="item">
    <div class="name def" id="IoticAgent.Core.Validation.Validation.check_convert_string">
    <p>def <span class="ident">check_convert_string</span>(</p><p>obj, name=None, no_leading_trailing_whitespace=True, no_whitespace=False, no_newline=True, whole_word=False, min_len=1, max_len=0)</p>
    </div>
    

    
  
    <div class="desc"><p>Ensures the provided object can be interpreted as a unicode string, optionally with
additional restrictions imposed. By default this means a non-zero length string
which does not begin or end in whitespace.</p></div>
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-IoticAgent.Core.Validation.Validation.check_convert_string', this);">Show source &equiv;</a></p>
  <div id="source-IoticAgent.Core.Validation.Validation.check_convert_string" class="source">
    <pre><code>@staticmethod
def check_convert_string(obj, name=None,
                         no_leading_trailing_whitespace=True,
                         no_whitespace=False,
                         no_newline=True,
                         whole_word=False,
                         min_len=1,
                         max_len=0):
    """Ensures the provided object can be interpreted as a unicode string, optionally with
       additional restrictions imposed. By default this means a non-zero length string
       which does not begin or end in whitespace."""
    if not name:
        name = 'Argument'
    obj = ensure_unicode(obj, name=name)
    if no_whitespace:
        if _PATTERN_WHITESPACE.match(obj):
            raise ValueError('%s cannot contain whitespace' % name)
    elif no_leading_trailing_whitespace and _PATTERN_LEAD_TRAIL_WHITESPACE.match(obj):
        raise ValueError('%s contains leading/trailing whitespace' % name)
    if (min_len and len(obj) < min_len) or (max_len and len(obj) > max_len):
        raise ValueError('%s too short/long (%d/%d)' % (name, min_len, max_len))
    if whole_word:
        if not _PATTERN_WORD.match(obj):
            raise ValueError('%s can only contain alphanumeric (unicode) characters, numbers and the underscore'
                             % name)
    # whole words cannot contain newline so additional check not required
    elif no_newline and '\n' in obj:
        raise ValueError('%s cannot contain line breaks' % name)
    return obj
</code></pre>
  </div>
</div>

  </div>
  
            
  <div class="item">
    <div class="name def" id="IoticAgent.Core.Validation.Validation.foc_check">
    <p>def <span class="ident">foc_check</span>(</p><p>foc)</p>
    </div>
    

    
  
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-IoticAgent.Core.Validation.Validation.foc_check', this);">Show source &equiv;</a></p>
  <div id="source-IoticAgent.Core.Validation.Validation.foc_check" class="source">
    <pre><code>@staticmethod
def foc_check(foc):
    if foc not in VALIDATION_FOC_TYPES:
        raise ValueError("Resource type invalid expected one of %s" % VALIDATION_FOC_TYPES)
</code></pre>
  </div>
</div>

  </div>
  
            
  <div class="item">
    <div class="name def" id="IoticAgent.Core.Validation.Validation.guid_check_convert">
    <p>def <span class="ident">guid_check_convert</span>(</p><p>guid, allow_none=False)</p>
    </div>
    

    
  
    <div class="desc"><p>Take a GUID in the form of hex string "32" or "8-4-4-4-12".
Returns hex string "32" or raises ValueError: badly formed hexadecimal UUID string</p></div>
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-IoticAgent.Core.Validation.Validation.guid_check_convert', this);">Show source &equiv;</a></p>
  <div id="source-IoticAgent.Core.Validation.Validation.guid_check_convert" class="source">
    <pre><code>@staticmethod
def guid_check_convert(guid, allow_none=False):
    """Take a GUID in the form of hex string "32" or "8-4-4-4-12".
    Returns hex string "32" or raises ValueError: badly formed hexadecimal UUID string
    """
    if isinstance(guid, string_types):
        return ensure_unicode(UUID(guid).hex)
    elif guid is None and allow_none:
        return None
    else:
        raise ValueError('guid must be a string')
</code></pre>
  </div>
</div>

  </div>
  
            
  <div class="item">
    <div class="name def" id="IoticAgent.Core.Validation.Validation.limit_offset_check">
    <p>def <span class="ident">limit_offset_check</span>(</p><p>limit, offset)</p>
    </div>
    

    
  
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-IoticAgent.Core.Validation.Validation.limit_offset_check', this);">Show source &equiv;</a></p>
  <div id="source-IoticAgent.Core.Validation.Validation.limit_offset_check" class="source">
    <pre><code>@staticmethod
def limit_offset_check(limit, offset):
    if not (isinstance(limit, int_types) and limit >= 0 and
            isinstance(offset, int_types) and offset >= 0):
        raise ValueError("limit/offset invalid")
</code></pre>
  </div>
</div>

  </div>
  
            
  <div class="item">
    <div class="name def" id="IoticAgent.Core.Validation.Validation.location_check">
    <p>def <span class="ident">location_check</span>(</p><p>lat, lon)</p>
    </div>
    

    
  
    <div class="desc"><p>For use by Core client wrappers</p></div>
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-IoticAgent.Core.Validation.Validation.location_check', this);">Show source &equiv;</a></p>
  <div id="source-IoticAgent.Core.Validation.Validation.location_check" class="source">
    <pre><code>@staticmethod
def location_check(lat, lon):
    """For use by Core client wrappers"""
    if not (isinstance(lat, number_types) and -90 <= lat <= 90):
        raise ValueError("Latitude: '{latitude}' invalid".format(latitude=lat))
    if not (isinstance(lon, number_types) and -180 <= lon <= 180):
        raise ValueError("Longitude: '{longitude}' invalid".format(longitude=lon))
</code></pre>
  </div>
</div>

  </div>
  
            
  <div class="item">
    <div class="name def" id="IoticAgent.Core.Validation.Validation.metafmt_check_convert">
    <p>def <span class="ident">metafmt_check_convert</span>(</p><p>fmt)</p>
    </div>
    

    
  
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-IoticAgent.Core.Validation.Validation.metafmt_check_convert', this);">Show source &equiv;</a></p>
  <div id="source-IoticAgent.Core.Validation.Validation.metafmt_check_convert" class="source">
    <pre><code>@staticmethod
def metafmt_check_convert(fmt):
    fmt = ensure_unicode(fmt, name='fmt')
    if fmt not in VALIDATION_META_FMT:
        raise ValueError("metadata fmt must be one of of %s" % VALIDATION_META_FMT)
    return fmt
</code></pre>
  </div>
</div>

  </div>
  
            
  <div class="item">
    <div class="name def" id="IoticAgent.Core.Validation.Validation.search_type_check_convert">
    <p>def <span class="ident">search_type_check_convert</span>(</p><p>type_)</p>
    </div>
    

    
  
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-IoticAgent.Core.Validation.Validation.search_type_check_convert', this);">Show source &equiv;</a></p>
  <div id="source-IoticAgent.Core.Validation.Validation.search_type_check_convert" class="source">
    <pre><code>@staticmethod
def search_type_check_convert(type_):
    # Allow for old behaviour, specified as string
    if type_ in Const.SearchType:
        return type_
    type_ = ensure_ascii(type_, name='type_')
    try:
        return Const.SearchType(type_)
    except ValueError as ex:
        raise_from(ValueError('Search type must be one of: %s' % ', '.join(str(x) for x in Const.SearchType)), ex)
</code></pre>
  </div>
</div>

  </div>
  
            
  <div class="item">
    <div class="name def" id="IoticAgent.Core.Validation.Validation.value_type_check_convert">
    <p>def <span class="ident">value_type_check_convert</span>(</p><p>vtype)</p>
    </div>
    

    
  
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-IoticAgent.Core.Validation.Validation.value_type_check_convert', this);">Show source &equiv;</a></p>
  <div id="source-IoticAgent.Core.Validation.Validation.value_type_check_convert" class="source">
    <pre><code>@staticmethod
def value_type_check_convert(vtype):
    vtype = ensure_unicode(vtype, name='vtype')
    if vtype not in VALIDATION_META_VALUE_TYPES:
        raise ValueError("value type not a valid xsd primitive (or derived) type name")
    return vtype
</code></pre>
  </div>
</div>

  </div>
  
          <h3>Methods</h3>
            
  <div class="item">
    <div class="name def" id="IoticAgent.Core.Validation.Validation.comment_check_convert">
    <p>def <span class="ident">comment_check_convert</span>(</p><p>cls, comment, allow_none=False)</p>
    </div>
    

    
  
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-IoticAgent.Core.Validation.Validation.comment_check_convert', this);">Show source &equiv;</a></p>
  <div id="source-IoticAgent.Core.Validation.Validation.comment_check_convert" class="source">
    <pre><code>@classmethod
def comment_check_convert(cls, comment, allow_none=False):
    if comment is None and allow_none:
        return None
    else:
        return cls.check_convert_string(comment, 'comment', max_len=VALIDATION_META_COMMENT, no_newline=False)
</code></pre>
  </div>
</div>

  </div>
  
            
  <div class="item">
    <div class="name def" id="IoticAgent.Core.Validation.Validation.datetime_check_convert">
    <p>def <span class="ident">datetime_check_convert</span>(</p><p>cls, time, allow_none=False, require_utc=True, to_iso8601=True)</p>
    </div>
    

    
  
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-IoticAgent.Core.Validation.Validation.datetime_check_convert', this);">Show source &equiv;</a></p>
  <div id="source-IoticAgent.Core.Validation.Validation.datetime_check_convert" class="source">
    <pre><code>@classmethod
def datetime_check_convert(cls, time, allow_none=False, require_utc=True, to_iso8601=True):
    if time is None and allow_none:
        return None
    if not isinstance(time, datetime):
        raise ValueError('datetime instance required')
    if require_utc:
        offset = time.utcoffset()
        if offset not in cls.__zeroOffsetOrNone:
            raise ValueError('datetime instance must be naive or have zero UTC offset')
    return ensure_unicode(time.strftime(VALIDATION_TIME_FMT)) if to_iso8601 else time
</code></pre>
  </div>
</div>

  </div>
  
            
  <div class="item">
    <div class="name def" id="IoticAgent.Core.Validation.Validation.description_check_convert">
    <p>def <span class="ident">description_check_convert</span>(</p><p>cls, comment, allow_none=False)</p>
    </div>
    

    
  
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-IoticAgent.Core.Validation.Validation.description_check_convert', this);">Show source &equiv;</a></p>
  <div id="source-IoticAgent.Core.Validation.Validation.description_check_convert" class="source">
    <pre><code>@classmethod
def comment_check_convert(cls, comment, allow_none=False):
    if comment is None and allow_none:
        return None
    else:
        return cls.check_convert_string(comment, 'comment', max_len=VALIDATION_META_COMMENT, no_newline=False)
</code></pre>
  </div>
</div>

  </div>
  
            
  <div class="item">
    <div class="name def" id="IoticAgent.Core.Validation.Validation.label_check_convert">
    <p>def <span class="ident">label_check_convert</span>(</p><p>cls, label, allow_none=False)</p>
    </div>
    

    
  
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-IoticAgent.Core.Validation.Validation.label_check_convert', this);">Show source &equiv;</a></p>
  <div id="source-IoticAgent.Core.Validation.Validation.label_check_convert" class="source">
    <pre><code>@classmethod
def label_check_convert(cls, label, allow_none=False):
    if label is None and allow_none:
        return None
    else:
        return cls.check_convert_string(label, 'label', max_len=VALIDATION_META_LABEL)
</code></pre>
  </div>
</div>

  </div>
  
            
  <div class="item">
    <div class="name def" id="IoticAgent.Core.Validation.Validation.lang_check_convert">
    <p>def <span class="ident">lang_check_convert</span>(</p><p>cls, lang, allow_none=False, default=None)</p>
    </div>
    

    
  
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-IoticAgent.Core.Validation.Validation.lang_check_convert', this);">Show source &equiv;</a></p>
  <div id="source-IoticAgent.Core.Validation.Validation.lang_check_convert" class="source">
    <pre><code>@classmethod
def lang_check_convert(cls, lang, allow_none=False, default=None):
    if lang is None:
        if allow_none:
            return None
        else:
            lang = default
    lang = ensure_unicode(lang, name='lang')
    if not _PATTERN_LANGUAGE.match(lang):
        raise ValueError('Language should only contain a-z characters')
    return lang
</code></pre>
  </div>
</div>

  </div>
  
            
  <div class="item">
    <div class="name def" id="IoticAgent.Core.Validation.Validation.lid_check_convert">
    <p>def <span class="ident">lid_check_convert</span>(</p><p>cls, lid)</p>
    </div>
    

    
  
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-IoticAgent.Core.Validation.Validation.lid_check_convert', this);">Show source &equiv;</a></p>
  <div id="source-IoticAgent.Core.Validation.Validation.lid_check_convert" class="source">
    <pre><code>@classmethod
def lid_check_convert(cls, lid):
    return cls.check_convert_string(lid, 'lid', max_len=VALIDATION_LID_LEN)
</code></pre>
  </div>
</div>

  </div>
  
            
  <div class="item">
    <div class="name def" id="IoticAgent.Core.Validation.Validation.mime_check_convert">
    <p>def <span class="ident">mime_check_convert</span>(</p><p>cls, mime, allow_none=False)</p>
    </div>
    

    
  
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-IoticAgent.Core.Validation.Validation.mime_check_convert', this);">Show source &equiv;</a></p>
  <div id="source-IoticAgent.Core.Validation.Validation.mime_check_convert" class="source">
    <pre><code>@classmethod
def mime_check_convert(cls, mime, allow_none=False):
    if mime is None and allow_none:
        return None
    else:
        mime = ensure_ascii(mime, name='mime')
        if 1 < len(mime) < VALIDATION_MIME_LEN:
            return mime
        else:
            raise ValueError('mime too long (%d)' % VALIDATION_MIME_LEN)
</code></pre>
  </div>
</div>

  </div>
  
            
  <div class="item">
    <div class="name def" id="IoticAgent.Core.Validation.Validation.pid_check_convert">
    <p>def <span class="ident">pid_check_convert</span>(</p><p>cls, lid)</p>
    </div>
    

    
  
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-IoticAgent.Core.Validation.Validation.pid_check_convert', this);">Show source &equiv;</a></p>
  <div id="source-IoticAgent.Core.Validation.Validation.pid_check_convert" class="source">
    <pre><code>@classmethod
def pid_check_convert(cls, lid):
    return cls.check_convert_string(lid, 'pid', max_len=VALIDATION_LID_LEN)
</code></pre>
  </div>
</div>

  </div>
  
            
  <div class="item">
    <div class="name def" id="IoticAgent.Core.Validation.Validation.search_check_convert">
    <p>def <span class="ident">search_check_convert</span>(</p><p>cls, text, lang, location, unit, default_lang)</p>
    </div>
    

    
  
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-IoticAgent.Core.Validation.Validation.search_check_convert', this);">Show source &equiv;</a></p>
  <div id="source-IoticAgent.Core.Validation.Validation.search_check_convert" class="source">
    <pre><code>@classmethod
def search_check_convert(cls, text, lang, location, unit, default_lang):
    arg_count = 0
    payload = {}
    if text is not None:
        payload['text'] = cls.__search_text_check_convert(text)
        arg_count += 1
    payload['lang'] = cls.lang_check_convert(lang, default=default_lang)
    if location is not None:
        cls.search_location_check(location)
        payload.update(location)
        arg_count += 1
        if location['radius'] > 25 and text is None:
            raise ValueError('radius cannot exceed 25km when no search text supplied')
    if unit is not None:
        payload['unit'] = cls.value_unit_check_convert(unit)
        arg_count += 1
    if not arg_count:
        raise ValueError('At least one of text, location and unit must be specified')
    return payload
</code></pre>
  </div>
</div>

  </div>
  
            
  <div class="item">
    <div class="name def" id="IoticAgent.Core.Validation.Validation.search_location_check">
    <p>def <span class="ident">search_location_check</span>(</p><p>cls, location)</p>
    </div>
    

    
  
    <div class="desc"><p>Core.Client.request_search location parameter should be a dictionary that contains lat, lon and radius floats</p></div>
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-IoticAgent.Core.Validation.Validation.search_location_check', this);">Show source &equiv;</a></p>
  <div id="source-IoticAgent.Core.Validation.Validation.search_location_check" class="source">
    <pre><code>@classmethod
def search_location_check(cls, location):
    """Core.Client.request_search location parameter should be a dictionary that contains lat, lon and radius floats
    """
    if not (isinstance(location, Mapping) and set(location.keys()) == _LOCATION_SEARCH_ARGS):
        raise ValueError('Search location should be mapping with keys: %s' % _LOCATION_SEARCH_ARGS)
    cls.location_check(location['lat'], location['long'])
    radius = location['radius']
    if not (isinstance(radius, number_types) and 0 < radius <= 20038):  # half circumference
        raise ValueError("Radius: '{radius}' is invalid".format(radius=radius))
</code></pre>
  </div>
</div>

  </div>
  
            
  <div class="item">
    <div class="name def" id="IoticAgent.Core.Validation.Validation.tags_check_convert">
    <p>def <span class="ident">tags_check_convert</span>(</p><p>cls, tags)</p>
    </div>
    

    
  
    <div class="desc"><p>Accept one tag as string or multiple tags in list of strings.
Returns list (with tags in unicode form) or raises ValueError</p></div>
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-IoticAgent.Core.Validation.Validation.tags_check_convert', this);">Show source &equiv;</a></p>
  <div id="source-IoticAgent.Core.Validation.Validation.tags_check_convert" class="source">
    <pre><code>@classmethod
def tags_check_convert(cls, tags):
    """Accept one tag as string or multiple tags in list of strings.
    Returns list (with tags in unicode form) or raises ValueError
    """
    # single string check comes first since string is also a Sequence
    if isinstance(tags, string_types):
        return [cls.__tag_check_convert(tags)]
    elif isinstance(tags, Sequence):
        if not tags:
            raise ValueError("Tag list is empty")
        return [cls.__tag_check_convert(tag) for tag in tags]
    else:
        raise ValueError("tags must be a single string or list of sequence of strings")
</code></pre>
  </div>
</div>

  </div>
  
            
  <div class="item">
    <div class="name def" id="IoticAgent.Core.Validation.Validation.value_unit_check_convert">
    <p>def <span class="ident">value_unit_check_convert</span>(</p><p>cls, unit)</p>
    </div>
    

    
  
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-IoticAgent.Core.Validation.Validation.value_unit_check_convert', this);">Show source &equiv;</a></p>
  <div id="source-IoticAgent.Core.Validation.Validation.value_unit_check_convert" class="source">
    <pre><code>@classmethod
def value_unit_check_convert(cls, unit):
    if unit is None:
        return None
    unit = ensure_unicode(unit, name='unit')
    if len(unit) > VALIDATION_META_VALUE_UNIT:
        raise ValueError('unit too long (%d)' % VALIDATION_META_VALUE_UNIT)
    if cls.__valid_url(unit):
        return unit
    else:
        raise ValueError('unit does not resemble valid http(s) url')
</code></pre>
  </div>
</div>

  </div>
  
      </div>
      </div>

  </section>

    </article>
  <div class="clear"> </div>
  <footer id="footer">
    <p>
      Documentation generated by
      <a href="https://github.com/BurntSushi/pdoc">pdoc 0.3.2</a>
    </p>

    <p>pdoc is in the public domain with the
      <a href="http://unlicense.org">UNLICENSE</a></p>

    <p>Design by <a href="http://nadh.in">Kailash Nadh</a></p>
  </footer>
</div>
</body>
</html>
